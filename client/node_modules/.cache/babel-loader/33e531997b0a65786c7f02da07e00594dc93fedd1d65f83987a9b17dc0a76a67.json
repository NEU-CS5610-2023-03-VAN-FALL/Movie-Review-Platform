{"ast":null,"code":"// const { useState, useEffect } = require(\"react\");\n// const { useAuth0 } = require(\"@auth0/auth0-react\");\n// const { useNavigate } = require(\"react-router-dom\");\n\n// require(\"../style/home.css\");\n\n// export default function Home() {\n//   const navigate = useNavigate();\n//   const { isAuthenticated, loginWithRedirect, user } = useAuth0();\n//   const signUp = () => loginWithRedirect({ screen_hint: \"signup\" });\n\n//   const [latestReview, setLatestReview] = useState(null);\n//   const [userLatestReview, setUserLatestReview] = useState(null);\n//   const handleExploreMovies = () => {\n//     navigate(\"/movies\");\n//   };\n\n//   useEffect(() => {\n//     const fetchLatestReview = async () => {\n//       try {\n//         const response = await fetch(\"/reviews\");\n//         const reviews = await response.json();\n//         if (reviews.length > 0) {\n//           setLatestReview(reviews[0]);\n//         }\n//       } catch (error) {\n//         console.error(\"Error fetching latest review:\", error);\n//       }\n//     };\n\n//     const fetchUserLatestReview = async () => {\n//       try {\n//         const response = await fetch(\"/user-reviews\");\n//         const userReviews = await response.json();\n//         if (userReviews.length > 0) {\n//           setUserLatestReview(userReviews[0]);\n//         }\n//       } catch (error) {\n//         console.error(\"Error fetching user's latest review:\", error);\n//       }\n//     };\n\n//     fetchLatestReview();\n\n//     if (isAuthenticated) {\n//       fetchUserLatestReview();\n//     }\n//   }, [isAuthenticated]);\n\n//   return (\n//     <div className=\"home\">\n//       <h1>Movie Reviews App</h1>      \n//       {!isAuthenticated ? (\n//         <div>\n//           <button className=\"btn-primary\" onClick={loginWithRedirect}>\n//             Login\n//           </button>\n//           <button className=\"btn-secondary\" onClick={signUp}>\n//             Create Account\n//           </button>\n//         </div>\n//       ) : (\n//         <div>\n//           <button className=\"btn-primary\" onClick={() => navigate(\"/app\")}>\n//             Enter App\n//           </button>\n//         </div>\n//       )}\n// {/* \n//     <div>\n//       <button onClick={handleExploreMovies}>Explore Movies</button>\n//     </div> */}\n\n//     {/* {latestReview ? (\n//       <div>\n//         <h2>Latest Overall Review</h2>\n//         <p>{latestReview.content}</p>\n//         <p>By: {latestReview.user.username}</p>\n//         {latestReview.movie && (\n//           <p>Movie: {latestReview.movie.title}</p>\n//         )}\n//       </div>\n//     ) : (\n//       <p>No overall reviews available. Be the first to write one!</p>\n//     )}\n\n//     {isAuthenticated && userLatestReview ? (\n//       <div>\n//         <h2>Your Latest Review</h2>\n//         <p>{userLatestReview.content}</p>\n//         <p>By: {userLatestReview.user.username}</p>\n//         {userLatestReview.movie && (\n//           <p>Movie: {userLatestReview.movie.title}</p>\n//         )}\n//       </div>\n//     ) : (\n//       isAuthenticated && <p>No reviews by you yet. Start writing now!</p>\n//     )} */}\n//   </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["/Users/limingxi/Documents/5610/assignment-03-mingxi-li/client/src/components/Home.jsx"],"sourcesContent":["// const { useState, useEffect } = require(\"react\");\n// const { useAuth0 } = require(\"@auth0/auth0-react\");\n// const { useNavigate } = require(\"react-router-dom\");\n\n// require(\"../style/home.css\");\n\n// export default function Home() {\n//   const navigate = useNavigate();\n//   const { isAuthenticated, loginWithRedirect, user } = useAuth0();\n//   const signUp = () => loginWithRedirect({ screen_hint: \"signup\" });\n\n//   const [latestReview, setLatestReview] = useState(null);\n//   const [userLatestReview, setUserLatestReview] = useState(null);\n//   const handleExploreMovies = () => {\n//     navigate(\"/movies\");\n//   };\n\n//   useEffect(() => {\n//     const fetchLatestReview = async () => {\n//       try {\n//         const response = await fetch(\"/reviews\");\n//         const reviews = await response.json();\n//         if (reviews.length > 0) {\n//           setLatestReview(reviews[0]);\n//         }\n//       } catch (error) {\n//         console.error(\"Error fetching latest review:\", error);\n//       }\n//     };\n\n//     const fetchUserLatestReview = async () => {\n//       try {\n//         const response = await fetch(\"/user-reviews\");\n//         const userReviews = await response.json();\n//         if (userReviews.length > 0) {\n//           setUserLatestReview(userReviews[0]);\n//         }\n//       } catch (error) {\n//         console.error(\"Error fetching user's latest review:\", error);\n//       }\n//     };\n\n//     fetchLatestReview();\n\n//     if (isAuthenticated) {\n//       fetchUserLatestReview();\n//     }\n//   }, [isAuthenticated]);\n\n//   return (\n//     <div className=\"home\">\n//       <h1>Movie Reviews App</h1>      \n//       {!isAuthenticated ? (\n//         <div>\n//           <button className=\"btn-primary\" onClick={loginWithRedirect}>\n//             Login\n//           </button>\n//           <button className=\"btn-secondary\" onClick={signUp}>\n//             Create Account\n//           </button>\n//         </div>\n//       ) : (\n//         <div>\n//           <button className=\"btn-primary\" onClick={() => navigate(\"/app\")}>\n//             Enter App\n//           </button>\n//         </div>\n//       )}\n// {/* \n//     <div>\n//       <button onClick={handleExploreMovies}>Explore Movies</button>\n//     </div> */}\n      \n//     {/* {latestReview ? (\n//       <div>\n//         <h2>Latest Overall Review</h2>\n//         <p>{latestReview.content}</p>\n//         <p>By: {latestReview.user.username}</p>\n//         {latestReview.movie && (\n//           <p>Movie: {latestReview.movie.title}</p>\n//         )}\n//       </div>\n//     ) : (\n//       <p>No overall reviews available. Be the first to write one!</p>\n//     )}\n\n//     {isAuthenticated && userLatestReview ? (\n//       <div>\n//         <h2>Your Latest Review</h2>\n//         <p>{userLatestReview.content}</p>\n//         <p>By: {userLatestReview.user.username}</p>\n//         {userLatestReview.movie && (\n//           <p>Movie: {userLatestReview.movie.title}</p>\n//         )}\n//       </div>\n//     ) : (\n//       isAuthenticated && <p>No reviews by you yet. Start writing now!</p>\n//     )} */}\n//   </div>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}